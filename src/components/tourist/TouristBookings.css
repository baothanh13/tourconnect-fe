/* =========================================
   Tourist Bookings – Complete CSS
   (My Bookings cards match Support Center)
   ========================================= */

/* ---------- Design Tokens (Light) ---------- */
:root{
  /* Surface */
  --bg: #f6f7fb;
  --panel: #ffffff;
  --card: #ffffff;
  --text: #0f172a;
  --muted: #5b6b8a;
  --border: #e5e7eb;
  --shadow: 0 10px 28px rgba(2,6,23,.06);

  /* Brand */
  --primary: #4f46e5;
  --primary-2: #4338ca;
  --secondary: #f3f4f6;

  /* Semantic */
  --success-bg: #e7f5e7; --success-fg: #2d5a2d;
  --warn-bg: #fff3cd;    --warn-fg: #856404;
  --error-bg: #f8d7da;   --error-fg: #721c24;
  --info-bg: #d1ecf1;    --info-fg: #0c5460;

  /* Aliases (compat với code cũ) */
  --primary-color: var(--primary);
  --primary-hover: var(--primary-2);
  --secondary-color: var(--secondary);
  --card-bg: var(--card);
  --text-primary: var(--text);
  --text-secondary: var(--muted);
  --border-color: var(--border);
  --hover-bg: #f8fafc;
}

/* ---------- Dark (theo thiết bị) ---------- */
@media (prefers-color-scheme: dark){
  :root{
    --bg: #0b0f17;
    --panel: #0f1624;
    --card: #0f172a;
    --text: #e6eefc;
    --muted: #93a2c7;
    --border: #1f2a3d;
    --shadow: 0 12px 30px rgba(0,0,0,.35);

    --secondary: #0b111b;

    --success-bg: #13361f; --success-fg: #58d392;
    --warn-bg: #3b2d12;    --warn-fg: #f8c154;
    --error-bg: #3a1f22;   --error-fg: #ff8b8b;
    --info-bg: #0f2730;    --info-fg: #74d1e2;

    --hover-bg: #0e1522;
  }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}

/* ---------- Page ---------- */
.tourist-bookings{
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  min-height: 100vh;
  background:
    radial-gradient(900px 600px at 110% 10%, color-mix(in oklab, var(--primary), transparent 92%), transparent),
    radial-gradient(800px 500px at 10% -10%, color-mix(in oklab, var(--primary), transparent 90%), transparent),
    var(--bg);
  box-sizing: border-box;
}

/* ---------- Header ---------- */
.page-header{
  display:flex; align-items:center; gap:1rem; margin-bottom:1.5rem;
}
.back-button{
  background: var(--primary); color:#fff; border:none; border-radius:50%;
  width:48px; height:48px; display:grid; place-items:center; cursor:pointer;
  transition: transform .15s ease, filter .15s ease, box-shadow .15s ease;
  box-shadow: 0 8px 22px color-mix(in oklab, var(--primary), transparent 78%);
}
.back-button:hover{ transform: translateY(-1px); filter: brightness(1.05); }
.back-button:focus-visible{ outline:3px solid color-mix(in oklab, var(--primary), #fff 40%); outline-offset:2px; }

.page-title-center{ flex:1; text-align:center; }
.page-title-center h2{
  color: var(--text-primary);
  font-size: clamp(24px, 2.6vw, 32px);
  font-weight: 800;
  margin: 0 0 .35rem 0;
  letter-spacing: -.02em;
}
.page-title-center p{
  color: var(--text-secondary);
  font-size: 1.05rem;
  margin: 0;
  text-align: center; /* căn giữa mô tả */
}

/* =========================================
   STAT CARDS – Compact như Support Center
   ========================================= */
.booking-stats-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1rem;
  margin: .75rem 0 1.5rem 0;
}
.stat-card{
  position: relative;
  background: var(--card-bg);
  border: 1px solid color-mix(in oklab, var(--text-primary), transparent 92%);
  border-radius: 14px;
  padding: 1rem 1.25rem;
  min-height: 92px;
  display: flex;
  align-items: center;
  gap: 1rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.15);
  overflow: hidden;
  border-left: none; /* bỏ viền trái cũ */
}
/* strip gradient mảnh phía trên */
.stat-card::before{
  content:"";
  position:absolute; left:10px; right:10px; top:8px;
  height:3px; border-radius:999px; opacity:.95;
  background: linear-gradient(90deg, #6366f1, #8b5cf6); /* default */
}
/* strip theo trạng thái */
.stat-card.total::before      { background: linear-gradient(90deg, #6366f1, #8b5cf6); }
.stat-card.pending::before    { background: linear-gradient(90deg, #f59e0b, #ef4444); }
.stat-card.confirmed::before  { background: linear-gradient(90deg, #10b981, #22d3ee); }
.stat-card.completed::before  { background: linear-gradient(90deg, #3b82f6, #06b6d4); }

.stat-icon{
  width: 44px; height: 44px; border-radius: 12px;
  display:grid; place-items:center; font-size:1.25rem; color:#fff;
  box-shadow: 0 6px 14px rgba(0,0,0,.18);
}
.stat-card.total .stat-icon     { background: linear-gradient(180deg, #4f46e5, #7c3aed); }
.stat-card.pending .stat-icon   { background: linear-gradient(180deg, #f59e0b, #fb7185); }
.stat-card.confirmed .stat-icon { background: linear-gradient(180deg, #10b981, #22d3ee); }
.stat-card.completed .stat-icon { background: linear-gradient(180deg, #3b82f6, #06b6d4); }

.stat-content{ flex:1; }
.stat-number{
  font-size: 1.6rem; font-weight: 800; color: var(--text-primary);
  margin-bottom: .25rem; line-height: 1;
}
.stat-label{
  font-size: .78rem; font-weight: 800; letter-spacing: .08em;
  color: var(--text-secondary); opacity: .95;
}
.stat-card:hover{ transform: translateY(-1px); box-shadow: 0 12px 28px rgba(0,0,0,.2); }

/* ---------- Search ---------- */
.search-section{ margin-bottom: 1.6rem; }
.search-section h3,
.filter-section h3{
  color: var(--text-primary); font-size: .95rem; font-weight: 800;
  margin-bottom: .8rem; letter-spacing: .06em; opacity: .9;
}
.search-box{ position: relative; max-width: 100%; }
.search-box input{
  width:100%; padding:1rem 1.25rem; border-radius:12px;
  border:1px solid var(--border-color);
  background: var(--card-bg); color: var(--text-primary); font-size:1rem;
  transition: box-shadow .15s ease, border-color .15s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,.05);
}
.search-box input:focus{
  outline:none;
  border-color: color-mix(in oklab, var(--primary), var(--border) 50%);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--primary), transparent 85%);
}
.search-box input::placeholder{ color:#9ca3af; }
.search-icon{ position:absolute; left:.75rem; top:50%; transform:translateY(-50%); color: var(--text-secondary); }

/* ---------- Filter ---------- */
.filter-section{ margin-bottom: 1.6rem; }
.filter-tabs{ display:flex; gap:.75rem; flex-wrap:wrap; }
.filter-tabs button{
  padding:.7rem 1.15rem; border:2px solid var(--border-color);
  background: var(--panel); color:#6b7280;
  border-radius: 999px; cursor:pointer; transition: all .15s ease;
  font-weight: 700; font-size: .88rem;
}
.filter-tabs button:hover{ border-color: var(--primary); color: var(--primary); }
.filter-tabs button.active{ background: var(--primary); color:#fff; border-color: var(--primary); }

/* Group controls (nếu dùng) */
.bookings-controls{ display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap; }

/* ---------- Error ---------- */
.error-message{
  display:flex; align-items:center; gap:1rem; padding:1rem;
  border-radius:12px; margin-bottom:1.6rem;
  background: var(--error-bg); color: var(--error-fg);
  border:1px solid color-mix(in oklab, var(--error-fg), transparent 70%);
}
.error-message button{
  padding:.5rem 1rem; background:#c33; color:#fff; border:none; border-radius:8px; cursor:pointer;
}
.error-message button:hover{ filter: brightness(1.05); }

/* ---------- Bookings Grid & Cards ---------- */
.bookings-grid{
  display:grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 1.5rem;
}
.booking-card{
  background: var(--card-bg); border:1px solid var(--border-color);
  border-radius: 12px; padding: 1.2rem;
  box-shadow: var(--shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.booking-card:hover{
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--primary), var(--border) 65%);
}
.booking-header{
  display:flex; justify-content:space-between; align-items:center; margin-bottom:.9rem;
}
.booking-price{ font-size:1.15rem; font-weight: 800; color: var(--primary-color); }

.booking-status{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.45rem .7rem; border-radius: 999px; font-size:.85rem; font-weight:700;
}
.booking-status.confirmed{ background: var(--success-bg); color: var(--success-fg); }
.booking-status.pending  { background: var(--warn-bg);    color: var(--warn-fg); }
.booking-status.cancelled{ background: var(--error-bg);   color: var(--error-fg); }
.booking-status.completed{ background: var(--info-bg);    color: var(--info-fg); }
.status-icon{ font-size: 1rem; }

.booking-content{ margin-bottom: 1.1rem; }
.tour-title{
  font-size:1.1rem; font-weight:800; color: var(--text-primary);
  margin-bottom:.6rem; line-height:1.3; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.booking-details{ display:flex; flex-direction:column; gap:.45rem; }
.detail-item{ display:flex; align-items:center; gap:.5rem; color: var(--text-secondary); }
.detail-icon{ color: var(--primary-color); font-size:.9rem; }

/* ---------- Actions ---------- */
.booking-actions{ display:flex; gap:.6rem; flex-wrap:wrap; }
.booking-actions button{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.55rem 1rem; border:none; border-radius:10px;
  font-size:.9rem; font-weight:700; cursor:pointer;
  transition: transform .15s ease, filter .15s ease, box-shadow .15s ease;
}
.booking-actions button:focus-visible{ outline:3px solid color-mix(in oklab, var(--primary), #fff 40%); outline-offset:2px; }
.btn-primary{ background: linear-gradient(180deg, var(--primary), var(--primary-2)); color:#fff; box-shadow: 0 8px 20px color-mix(in oklab, var(--primary), transparent 80%); }
.btn-primary:hover{ transform: translateY(-1px); filter: brightness(1.05); }
.btn-secondary-tourist{ background: var(--secondary-color); color: black; border:1px solid var(--border-color); justify-content: center;}
.btn-secondary:hover{ transform: translateY(-1px); background: var(--hover-bg); }
.btn-danger{ background:#dc3545; color:#fff; }
.btn-danger:hover{ transform: translateY(-1px); filter: brightness(1.05); }

/* ---------- Empty state ---------- */
.no-bookings{
  grid-column: 1 / -1; text-align:center; padding: 3rem 1.5rem;
  background: var(--card-bg); border:1px solid var(--border-color); border-radius: 12px;
}
.no-bookings-icon{ font-size:3rem; color: var(--text-secondary); margin-bottom:.6rem; }
.no-bookings h3{ color: var(--text-primary); margin:.3rem 0 .3rem; }
.no-bookings p{ color: var(--text-secondary); }

/* ---------- Modal ---------- */
.modal-overlay{
  position:fixed; inset:0; background: rgba(0,0,0,.5); display:grid; place-items:center; z-index:1000;
}
.modal-content{
  background: var(--card-bg); border:1px solid var(--border-color);
  border-radius: 16px; width: 90%; max-width:600px; max-height:80vh; overflow:auto; box-shadow: var(--shadow);
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:1.2rem 1.4rem; border-bottom:1px solid var(--border-color);
}
.modal-header h3{ margin:0; color: var(--text-primary); }
.close-btn{
  background:none; border:none; font-size:1.5rem; color: var(--text-secondary);
  cursor:pointer; padding:.25rem; border-radius:8px;
}
.close-btn:hover{ color: var(--text-primary); background: color-mix(in oklab, var(--primary), transparent 92%); }
.modal-body{ padding:1.4rem; }
.booking-detail-section{ margin-bottom:1.4rem; }
.booking-detail-section:last-child{ margin-bottom:0; }
.booking-detail-section h4{
  color: var(--text-primary); font-size:1.05rem; font-weight:700; margin:0 0 .7rem 0;
  border-bottom:1px solid var(--border-color); padding-bottom:.5rem;
}
.booking-detail-section p{ color: var(--text-secondary); margin:.2rem 0; line-height:1.55; }
.booking-detail-section strong{ color: var(--text-primary); }

/* ---------- Helpers ---------- */
.truncate{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.clamp-3{ display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }

/* ---------- Responsive ---------- */
@media (max-width: 992px){
  .booking-stats-grid{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 768px){
  .tourist-bookings{ padding: 1rem; }
  .booking-stats-grid{ grid-template-columns: 1fr; gap: .9rem; }
  .stat-card{ min-height: 84px; padding: .9rem 1rem; }
  .stat-icon{ width:40px; height:40px; font-size:1.1rem; }
  .stat-number{ font-size: 1.45rem; }
  .stat-label{ font-size: .72rem; }
  .bookings-grid{ grid-template-columns: 1fr; }
  .booking-actions{ flex-direction: column; }
  .page-header{ flex-direction: column; align-items: flex-start; }
  .page-title-center h2{ font-size: 2rem; }
  .modal-content{ width:95%; margin:1rem; }
}
